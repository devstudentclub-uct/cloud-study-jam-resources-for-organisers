/*! For license information please see front-office_libs.js.LICENSE.txt */
!function(t){function e(e){for(var n,i,s=e[0],u=e[1],c=e[2],f=0,h=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);for(l&&l(e);h.length;)h.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,s=1;s<r.length;s++){var u=r[s];0!==o[u]&&(i=!1)}i&&(a.splice(e--,1),t=n(n.s=r[0]))}return t}function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var i={},o={"front-office_libs":0},a=[];n.m=t,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://prod.cdn.lumapps.com/4f654b4179-33-1-6/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([788,"common"]),r()}({788:function(t,e,r){"use strict";r.r(e);r(874),r(959),r(960),r(961),r(962),r(963),r(964),r(965),r(966),r(967),r(968),r(969),r(970),r(971),r(972),r(973),r(974),r(975),r(875),r(976),r(977),r(876),r(877),r(878);r.d(e,"DEPENDENCIES",(function(){return n}));var n=[].concat(["oc.lazyLoad","ui.router","ngResource","ngSanitize","ngTimezone","ngCookies","ngStorage","angulartics","angulartics.google.analytics","angular-bind-html-compile","http-auth-interceptor","pascalprecht.translate","toolkit.base_service","dndLists","as.sortable","lumx","cfp.hotkeys","dbaq.emoji","ngPromiseExtras"],["AppTemplates","Factories","Services","CustomServices","Controllers","Directives","Filters","Constants","Values","Widgets","LumSite"])},876:function(t,e,r){var n;!function(){"use strict";angular.module("cfp.hotkeys",["AppTemplates"]).provider("hotkeys",["$injector",function(t){this.includeCheatSheet=!1,this.useNgRoute=t.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div></div></div>',this.templateUrl=null,this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.defaultPreventIn=["INPUT","SELECT","TEXTAREA"],this.$get=["$rootElement","$rootScope","$compile","$window","$document","$templateCache","$http",function(t,e,r,n,i,o,a){function s(t){var e={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓",return:"⏎",enter:"⏎",backspace:"⌫"};t=t.split("+");for(var r=0;r<t.length;r++)"mod"===t[r]&&(n.navigator&&n.navigator.platform.indexOf("Mac")>=0?t[r]="command":t[r]="ctrl"),t[r]=e[t[r]]||t[r];return t.join(" + ")}function u(t,e,r,n,i,o){this.combo=t,this.description=e,this.callback=r,this.action=n,this.allowIn=i,this.persistent=o,this._formated=null}function c(){for(var t=g.hotkeys.length;t--;){var e=g.hotkeys[t];e&&!e.persistent&&h(e)}}function l(){g.helpVisible=!g.helpVisible,g.helpVisible?(S=p("esc"),h("esc"),f("esc",S.description,l,null,["INPUT","SELECT","TEXTAREA"])):(h("esc"),!1!==S&&f(S))}function f(t,e,r,n,i,o){var a,s=["INPUT","SELECT","TEXTAREA"],c=Object.prototype.toString.call(t);if("[object Object]"===c&&(e=t.description,r=t.callback,n=t.action,o=t.persistent,i=t.allowIn,t=t.combo),h(t),e instanceof Function?(o=i,i=n,n=r,r=e,e="$$undefined$$"):angular.isUndefined(e)&&(e="$$undefined$$"),void 0===o&&(o=!0),angular.isUndefined(i)||!angular.isArray(i[0])){var l=angular.isUndefined(i)?[]:i;i=[];for(var f=0,p=t.length;f<p;f++)i[f]=l}for(var m=i.length,y=(s=[],0);y<m;y++)s[y]=angular.copy(v.defaultPreventIn);if("function"==typeof r){var $;a=r,i instanceof Array||(i=[]);for(var b=0;b<m;b++)for(var w=angular.isUndefined(i[b])?[]:i[b],k=0,E=w.length;k<E;k++)w[k]=w[k].toUpperCase(),$=s[b].indexOf(w[k]),-1!==$&&s[b].splice($,1);r=function(e,r,n){var i=!0;if(e){var o=e.target||e.srcElement,u=o.nodeName.toUpperCase();if((" "+o.className+" ").indexOf(" mousetrap ")>-1)i=!0;else for(var c=t.indexOf(n),l=0,f=s[c].length;l<f;l++)if(s[c][l]===u){i=!1;break}}i&&d(a.apply(this,arguments))}}"string"==typeof n?Mousetrap.bind(t,d(r),n):Mousetrap.bind(t,d(r));var S=new u(t,e,r,n,i,o);return g.hotkeys.push(S),S}function h(t){var e=t instanceof u?t.combo:t;if(Mousetrap.unbind(e),angular.isArray(e)){for(var r=!0,n=e.length;n--;)r=h(e[n])&&r;return r}var i=g.hotkeys.indexOf(p(e));return i>-1&&(Array.isArray(g.hotkeys[i].combo)&&g.hotkeys[i].combo.length>1?g.hotkeys[i].combo.splice(g.hotkeys[i].combo.indexOf(e),1):(angular.forEach(y,(function(t){var e=t.indexOf(g.hotkeys[i]);-1!==e&&t.splice(e,1)})),g.hotkeys.splice(i,1)),!0)}function p(t){if(!t)return g.hotkeys;var e;t=!angular.isArray(t)&&angular.isDefined(t)?[t]:t;for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=0,a=g.hotkeys.length;o<a;o++)if(e=g.hotkeys[o],e.combo.indexOf(i)>-1)return e;return!1}function d(t){return function(r,n){if(t instanceof Array){var i=t[0],o=t[1];t=function(t){o.scope.$eval(i)}}e.$apply((function(){t(r,p(n),n)}))}}var v=this,m=!0;Mousetrap.prototype.stopCallback=function(t,e){return!m||!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(e.contentEditable&&"true"==e.contentEditable)},u.prototype.format=function(){if(null===this._formated){var t=this.combo;t=!angular.isArray(t)&&angular.isDefined(t)?[t]:t;var e=[];angular.isDefined(t)&&t.length>0&&angular.forEach(t,(function(t){for(var r=t.split(/[\s]/),n=0,i=r.length;n<i;n++)r[n]=s(r[n]);r.length>0&&(e=e.concat(r))})),this._formated=e}return this._formated};var g=e.$new();g.hotkeys=[],g.helpVisible=!1,g.title=this.templateTitle,g.header=this.templateHeader,g.footer=this.templateFooter,g.toggleCheatSheet=l;var y={};if(this.useNgRoute&&e.$on("$routeChangeSuccess",(function(t,e){c(),e&&e.hotkeys&&angular.forEach(e.hotkeys,(function(t){var r=t[2];("string"==typeof r||r instanceof String)&&(t[2]=[r,e]),t[5]=!1,f.apply(this,t)}))})),this.includeCheatSheet){var $=this,b=i[0],w=t[0],k=function(t){var e=angular.element(t);f($.cheatSheetHotkey,$.cheatSheetDescription,l),w!==b&&w!==b.documentElement||(w=b.body),angular.element(w).append(r(e)(g))};if(this.templateUrl){var E=o.get(this.templateUrl);E?k(E):a.get(this.templateUrl).then((function(t){k(t.data)}))}else k(this.template)}var S=!1,_={add:f,del:h,get:p,bindTo:function(t){return t.$id in y||(y[t.$id]=[],t.$on("$destroy",(function(){for(var e=y[t.$id].length;e--;)h(y[t.$id].pop())}))),{add:function(e){var r;return r=arguments.length>1?f.apply(this,arguments):f(e),y[t.$id].push(r),this}}},template:this.template,toggleCheatSheet:l,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:c,templateTitle:this.templateTitle,pause:function(){m=!1},unpause:function(){m=!0}};return _}]}]).directive("hotkey",["hotkeys",function(t){return{restrict:"A",link:function(e,r,n){var i,o=[];angular.forEach(e.$eval(n.hotkey),(function(e,r){i="string"==typeof n.hotkeyAllowIn?n.hotkeyAllowIn.split(/[\s,]+/):[],o.push(r),t.add({combo:r,description:n.hotkeyDescription,callback:e,action:n.hotkeyAction,allowIn:i})})),r.bind("$destroy",(function(){angular.forEach(o,t.del)}))}}}]).run(["hotkeys",function(t){}])}(),function(i,o,a){function s(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)}function u(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return v[t.which]?v[t.which]:m[t.which]?m[t.which]:String.fromCharCode(t.which).toLowerCase()}function c(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function l(t,e,r){return r||(r=function(){if(!d)for(var t in d={},v)t>95&&t<112||v.hasOwnProperty(t)&&(d[v[t]]=t);return d}()[t]?"keydown":"keypress"),"keypress"==r&&e.length&&(r="keydown"),r}function f(t,e){var r,n,i,o=[];for(r=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}(t),i=0;i<r.length;++i)n=r[i],y[n]&&(n=y[n]),e&&"keypress"!=e&&g[n]&&(n=g[n],o.push("shift")),c(n)&&o.push(n);return e=l(n,o,e),{key:n,modifiers:o,action:e}}function h(t,e){return t!==o&&(t===e||h(t.parentNode,e))}function p(t){function e(t){t=t||{};var e,r=!1;for(e in v)t[e]?r=!0:v[e]=0;r||(y=!1)}function r(t,e,r,n,i,o){var a,s,u,l,f=[],p=r.type;if(!h._callbacks[t])return[];for("keyup"==p&&c(t)&&(e=[t]),a=0;a<h._callbacks[t].length;++a)if(s=h._callbacks[t][a],(n||!s.seq||v[s.seq]==s.level)&&p==s.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(u=e,l=s.modifiers,u.sort().join(",")===l.sort().join(",")))){var d=!n&&s.combo==i,m=n&&s.seq==n&&s.level==o;(d||m)&&h._callbacks[t].splice(a,1),f.push(s)}return f}function n(t,e,r,n){h.stopCallback(e,e.target||e.srcElement,r,n)||!1===t(e,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(e),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(e))}function i(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=u(t);e&&("keyup"!=t.type||m!==e?h.handleKey(e,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):m=!1)}function a(t,r,i,o){function a(r){return function(){y=r,++v[t],clearTimeout(d),d=setTimeout(e,1e3)}}function s(r){n(i,r,t),"keyup"!==o&&(m=u(r)),setTimeout(e,10)}v[t]=0;for(var c=0;c<r.length;++c){var h=c+1===r.length,p=h?s:a(o||f(r[c+1]).action);l(r[c],p,o,t,c)}}function l(t,e,n,i,o){h._directMap[t+":"+n]=e,t=t.replace(/\s+/g," ");var s,u=t.split(" ");u.length>1?a(t,u,e,n):(s=f(t,n),h._callbacks[s.key]=h._callbacks[s.key]||[],r(s.key,s.modifiers,{type:s.action},i,t,o),h._callbacks[s.key][i?"unshift":"push"]({callback:e,modifiers:s.modifiers,action:s.action,seq:i,level:o,combo:t}))}var h=this;if(t=t||o,!(h instanceof p))return new p(t);h.target=t,h._callbacks={},h._directMap={};var d,v={},m=!1,g=!1,y=!1;h._handleKey=function(t,i,o){var a,s=r(t,i,o),u={},l=0,f=!1;for(a=0;a<s.length;++a)s[a].seq&&(l=Math.max(l,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=l)continue;f=!0,u[s[a].seq]=1,n(s[a].callback,o,s[a].combo,s[a].seq)}else f||n(s[a].callback,o,s[a].combo);var h="keypress"==o.type&&g;o.type!=y||c(t)||h||e(u),g=f&&"keydown"==o.type},h._bindMultiple=function(t,e,r){for(var n=0;n<t.length;++n)l(t[n],e,r)},s(t,"keypress",i),s(t,"keydown",i),s(t,"keyup",i)}for(var d,v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},m={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},g={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},y={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},$=1;$<20;++$)v[111+$]="f"+$;for($=0;$<=9;++$)v[$+96]=$;p.prototype.bind=function(t,e,r){var n=this;return t=t instanceof Array?t:[t],n._bindMultiple.call(n,t,e,r),n},p.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},p.prototype.trigger=function(t,e){var r=this;return r._directMap[t+":"+e]&&r._directMap[t+":"+e]({},t),r},p.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},p.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!h(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},p.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},p.init=function(){var t=p(o);for(var e in t)"_"!==e.charAt(0)&&(p[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},p.init(),i.Mousetrap=p,t.exports&&(t.exports=p),n=function(){return p}.call(e,r,e,t),void 0===n||(t.exports=n)}(window,document)},877:function(t,e,r){t.exports===e&&(t.exports="ui.router"),function(t,e,r){"use strict";function n(t,e){return U(new(U((function(){}),{prototype:t})),e)}function i(t){return D(arguments,(function(e){e!==t&&D(e,(function(e,r){t.hasOwnProperty(r)||(t[r]=e)}))})),t}function o(t){if(Object.keys)return Object.keys(t);var e=[];return D(t,(function(t,r){e.push(r)})),e}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var r=t.length>>>0,n=Number(arguments[2])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=r);n<r;n++)if(n in t&&t[n]===e)return n;return-1}function s(t,e,r,n){var i,s=function(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}(r,n),u={},c=[];for(var l in s)if(s[l]&&s[l].params&&(i=o(s[l].params),i.length))for(var f in i)a(c,i[f])>=0||(c.push(i[f]),u[i[f]]=t[i[f]]);return U({},u,e)}function u(t,e,r){if(!r)for(var n in r=[],t)r.push(n);for(var i=0;i<r.length;i++){var o=r[i];if(t[o]!=e[o])return!1}return!0}function c(t,e){var r={};return D(t,(function(t){r[t]=e[t]})),r}function l(t){var e={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return D(r,(function(r){r in t&&(e[r]=t[r])})),e}function f(t){var e={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in t)-1==a(r,n)&&(e[n]=t[n]);return e}function h(t,e){var r=V(t),n=r?[]:{};return D(t,(function(t,i){e(t,i)&&(n[r?n.length:i]=t)})),n}function p(t,e){var r=V(t)?[]:{};return D(t,(function(t,n){r[n]=e(t,n)})),r}function d(t,e){var n={},s=[],u=n,c=U(t.when(n),{$$promises:n,$$values:n});this.study=function(n){function l(t){return N(t)&&t.then&&t.$$promises}if(!N(n))throw new Error("'invocables' must be an object");var h=o(n||{}),p=[],d=[],v={};return D(n,(function t(r,i){if(2!==v[i]){if(d.push(i),1===v[i])throw d.splice(0,a(d,i)),new Error("Cyclic dependency: "+d.join(" -> "));if(v[i]=1,q(r))p.push(i,[function(){return e.get(r)}],s);else{var o=e.annotate(r);D(o,(function(e){e!==i&&n.hasOwnProperty(e)&&t(n[e],e)})),p.push(i,r,o)}d.pop(),v[i]=2}})),n=d=v=null,function(n,o,a){function s(){--b||(w||i($,o.$$values),g.$$values=$,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,m.resolve($))}function d(t){g.$$failure=t,m.reject(t)}function v(r,i,o){function u(t){l.reject(t),d(t)}function c(){if(!R(g.$$failure))try{l.resolve(e.invoke(i,a,$)),l.promise.then((function(t){$[r]=t,s()}),u)}catch(t){u(t)}}var l=t.defer(),f=0;D(o,(function(t){y.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(f++,y[t].then((function(e){$[t]=e,--f||c()}),u))})),f||c(),y[r]=l.promise}if(l(n)&&a===r&&(a=o,o=n,n=null),n){if(!N(n))throw new Error("'locals' must be an object")}else n=u;if(o){if(!l(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=c;var m=t.defer(),g=m.promise,y=g.$$promises={},$=U({},n),b=1+p.length/3,w=!1;if(R(o.$$failure))return d(o.$$failure),g;o.$$inheritedValues&&i($,f(o.$$inheritedValues,h)),U(y,o.$$promises),o.$$values?(w=i($,f(o.$$values,h)),g.$$inheritedValues=f(o.$$values,h),s()):(o.$$inheritedValues&&(g.$$inheritedValues=f(o.$$inheritedValues,h)),o.then(s,d));for(var k=0,E=p.length;k<E;k+=3)n.hasOwnProperty(p[k])?s():v(p[k],p[k+1],p[k+2]);return g}},this.resolve=function(t,e,r,n){return this.study(t)(e,r,n)}}function v(t,e,r){this.fromConfig=function(t,e,r){return R(t.template)?this.fromString(t.template,e):R(t.templateUrl)?this.fromUrl(t.templateUrl,e):R(t.templateProvider)?this.fromProvider(t.templateProvider,e,r):null},this.fromString=function(t,e){return M(t)?t(e):t},this.fromUrl=function(r,n){return M(r)&&(r=r(n)),null==r?null:t.get(r,{cache:e,headers:{Accept:"text/html"}}).then((function(t){return t.data}))},this.fromProvider=function(t,e,n){return r.invoke(t,null,n||{params:e})}}function m(t,e,i){function o(e,r,n,i){if($.push(e),g[e])return g[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(y[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return y[e]=new j.Param(e,r,n,i),y[e]}function a(t,e,r,n){var i=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(r){case!1:i=["(",")"+(n?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+r+"|",")?"]}return o+i[0]+e+i[1]}function s(i,o){var a,s,u,c,l;return a=i[2]||i[3],l=e.params[a],u=t.substring(v,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),s&&(c=j.type(s)||n(j.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":r)})),{id:a,regexp:s,segment:u,type:c,cfg:l}}e=U({params:{}},N(e)?e:{});var u,c,l,f,h=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",v=0,m=this.segments=[],g=i?i.params:{},y=this.params=i?i.params.$$new():new j.ParamSet,$=[];for(this.source=t;(u=h.exec(t))&&(c=s(u,!1),!(c.segment.indexOf("?")>=0));)l=o(c.id,c.type,c.cfg,"path"),d+=a(c.segment,l.type.pattern.source,l.squash,l.isOptional),m.push(c.segment),v=h.lastIndex;f=t.substring(v);var b=f.indexOf("?");if(b>=0){var w=this.sourceSearch=f.substring(b);if(f=f.substring(0,b),this.sourcePath=t.substring(0,v+b),w.length>0)for(v=0;u=p.exec(w);)c=s(u,!0),l=o(c.id,c.type,c.cfg,"search"),v=h.lastIndex}else this.sourcePath=t,this.sourceSearch="";d+=a(f)+(!1===e.strict?"/?":"")+"$",m.push(f),this.regexp=new RegExp(d,e.caseInsensitive?"i":r),this.prefix=m[0],this.$$paramNames=$}function g(t){U(this,t)}function y(t,n){function i(t,e,r){if(!r)return!1;var n=t.invoke(e,e,{$match:r});return!R(n)||n}function o(n,i,o,l,f){function h(t){function e(t){var e=t(o,n);return!!e&&(q(e)&&n.replace().url(e),!0)}if(!t||!t.defaultPrevented){d&&n.url();d=r;var i,a=s.length;for(i=0;i<a;i++)if(e(s[i]))return;u&&e(u)}}function p(){return a=a||i.$on("$locationChangeSuccess",h),a}var d,v=l.baseHref(),m=n.url();return c||p(),{sync:function(){h()},listen:function(){return p()},update:function(t){t?m=n.url():n.url()!==m&&(n.url(m),n.replace())},push:function(t,e,i){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),n.url(o),d=i&&i.$$avoidResync?n.url():r,i&&i.replace&&n.replace()},href:function(r,i,o){if(!r.validates(i))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled),a=a&&f.history;var s=r.format(i);if(o=o||{},a||null===s||(s="#"+t.hashPrefix()+s),null!==s&&i&&i["#"]&&(s+="#"+i["#"]),s=function(t,e,r){return"/"===v?t:e?v.slice(0,-1)+t:r?v.slice(1)+t:t}(s,a,o.absolute),!o.absolute||!s)return s;var u=!a&&s?"/":"",c=n.port();return c=80===c||443===c?"":":"+c,[n.protocol(),"://",n.host(),c,u,s].join("")}}}var a,s=[],u=null,c=!1;this.rule=function(t){if(!M(t))throw new Error("'rule' must be a function");return s.push(t),this},this.otherwise=function(t){if(q(t)){var e=t;t=function(){return e}}else if(!M(t))throw new Error("'rule' must be a function");return u=t,this},this.when=function(t,e){var r,o=q(e);if(q(t)&&(t=n.compile(t)),!o&&!M(e)&&!V(e))throw new Error("invalid 'handler' in when()");var a={matcher:function(t,e){return o&&(r=n.compile(e),e=["$match",function(t){return r.format(t)}]),U((function(r,n){return i(r,e,t.exec(n.path(),n.search()))}),{prefix:q(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return o&&(r=e,e=["$match",function(t){return e=r,n=t,e.replace(/\$(\$|\d{1,2})/,(function(t,e){return n["$"===e?0:Number(e)]}));var e,n}]),U((function(r,n){return i(r,e,t.exec(n.path()))}),{prefix:(n=t,a=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source),null!=a?a[1].replace(/\\(.)/g,"$1"):"")});var n,a}},s={matcher:n.isMatcher(t),regex:t instanceof RegExp};for(var u in s)if(s[u])return this.rule(a[u](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===r&&(t=!0),c=t},this.$get=o,o.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $(t,i){function f(t,e){if(!t)return r;var n,i=q(t),o=i?t:t.name,a=(n=o,0===n.indexOf(".")||0===n.indexOf("^"));if(a){if(!e)throw new Error("No reference point given for path '"+o+"'");e=f(e);for(var s=o.split("."),u=0,c=s.length,l=e;u<c;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!l.parent)throw new Error("Path '"+o+"' not valid for state '"+e.name+"'");l=l.parent}else l=e;s=s.slice(u).join("."),o=l.name+(l.name&&s?".":"")+s}var h=g[o];return!h||!i&&(i||h!==t&&h.self!==t)?r:h}function h(e){e=n(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var r=e.name;if(!q(r)||r.indexOf("@")>=0)throw new Error("State must have a valid name");if(g.hasOwnProperty(r))throw new Error("State '"+r+"' is already defined");var i=-1!==r.indexOf(".")?r.substring(0,r.lastIndexOf(".")):q(e.parent)?e.parent:N(e.parent)&&q(e.parent.name)?e.parent.name:"";if(i&&!g[i])return function(t,e){y[t]||(y[t]=[]),y[t].push(e)}(i,e.self);for(var o in $)M($[o])&&(e[o]=$[o](e,$.$delegates[o]));return g[r]=e,!e.abstract&&e.url&&t.when(e.url,["$match","$stateParams",function(t,r){m.$current.navigable==e&&u(t,r)||m.transitionTo(e,t,{inherit:!0,location:!1})}]),function(t){for(var e=y[t]||[];e.length;)h(e.shift())}(r),e}function d(t,i,h,d,y,$,b,w,k){function E(t,r,n,o,a,s){var u=n?r:c(t.params.$$keys(),r),l={$stateParams:u};a.resolve=y.resolve(t.resolve,l,a.resolve,t);var f=[a.resolve.then((function(t){a.globals=t}))];return o&&f.push(o),i.all(f).then((function(){var r=[];return D(t.views,(function(n,i){var o=n.resolve&&n.resolve!==t.resolve?n.resolve:{};o.$template=[function(){return h.load(i,{view:n,locals:a.globals,params:u,notify:s.notify})||""}],r.push(y.resolve(o,a.globals,a.resolve,t).then((function(r){if(M(n.controllerProvider)||V(n.controllerProvider)){var s=e.extend({},o,a.globals);r.$$controller=d.invoke(n.controllerProvider,null,s)}else r.$$controller=n.controller;r.$$state=t,r.$$controllerAs=n.controllerAs,a[i]=r})))})),i.all(r).then((function(){return a.globals}))})).then((function(t){return a}))}var S=i.reject(new Error("transition superseded")),_=i.reject(new Error("transition prevented")),I=i.reject(new Error("transition aborted")),x=i.reject(new Error("transition failed"));return v.locals={resolve:null,globals:{$stateParams:{}}},m={params:{},current:v.self,$current:v,transition:null},m.reload=function(t){return m.transitionTo(m.current,$,{reload:t||!0,inherit:!1,notify:!0})},m.go=function(t,e,r){return m.transitionTo(t,e,U({inherit:!0,relative:m.$current},r))},m.transitionTo=function(e,r,o){r=r||{},o=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=m.$current,h=m.params,p=u.path,g=f(e,o.relative),y=r["#"];if(!R(g)){var w={to:e,toParams:r,options:o},k=function(e,r,n,o){var a=t.$broadcast("$stateNotFound",e,r,n);if(a.defaultPrevented)return b.update(),I;if(!a.retry)return null;if(o.$retry)return b.update(),x;var s=m.transition=i.when(a.retry);return s.then((function(){return s!==m.transition?S:(e.options.$retry=!0,m.transitionTo(e.to,e.toParams,e.options))}),(function(){return I})),b.update(),s}(w,u.self,h,o);if(k)return k;if(e=w.to,r=w.toParams,o=w.options,g=f(e,o.relative),!R(g)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(g.abstract)throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(r=s($,r||{},m.$current,g)),!g.params.$$validates(r))return x;r=g.params.$$values(r),e=g;var O=e.path,P=0,A=O[P],C=v.locals,T=[];if(o.reload){if(q(o.reload)||N(o.reload)){if(N(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var M=!0===o.reload?p[0]:f(o.reload);if(o.reload&&!M)throw new Error("No such reload state '"+(q(o.reload)?o.reload:o.reload.name)+"'");for(;A&&A===p[P]&&A!==M;)C=T[P]=A.locals,P++,A=O[P]}}else for(;A&&A===p[P]&&A.ownParams.$$equals(r,h);)C=T[P]=A.locals,P++,A=O[P];if(function(t,e,r,n,i,o){function a(t,e,r){function n(e){return"search"!=t.params[e].location}var i=t.params.$$keys().filter(n),o=l.apply({},[t.params].concat(i)),a=new j.ParamSet(o);return a.$$equals(e,r)}if(!o.reload&&t===r&&(i===r.locals||!1===t.self.reloadOnSearch&&a(r,n,e)))return!0}(e,r,u,h,C,o))return y&&(r["#"]=y),m.params=r,F(m.params,$),F(c(e.params.$$keys(),$),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(b.push(e.navigable.url,r,{$$avoidResync:!0,replace:"replace"===o.location}),b.update(!0)),m.transition=null,i.when(m.current);if(r=c(e.params.$$keys(),r||{}),y&&(r["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,r,u.self,h,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,r,u.self,h),null==m.transition&&b.update(),_;for(var V=i.when(C),D=P;D<O.length;D++,A=O[D])C=T[D]=n(C),V=E(A,r,A===e,V,C,o);var L=m.transition=V.then((function(){var n,i,a;if(m.transition!==L)return S;for(n=p.length-1;n>=P;n--)a=p[n],a.self.onExit&&d.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(n=P;n<O.length;n++)i=O[n],i.locals=T[n],i.self.onEnter&&d.invoke(i.self.onEnter,i.self,i.locals.globals);return m.transition!==L?S:(m.$current=e,m.current=e.self,m.params=r,F(m.params,$),m.transition=null,o.location&&e.navigable&&b.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,r,u.self,h),b.update(!0),m.current)}),(function(n){return m.transition!==L?S:(m.transition=null,a=t.$broadcast("$stateChangeError",e.self,r,u.self,h,n),a.defaultPrevented||b.update(),i.reject(n))}));return L},m.is=function(t,e,n){n=U({relative:m.$current},n||{});var i=f(t,n.relative);return R(i)?m.$current===i&&(!e||u(i.params.$$values(e),$)):r},m.includes=function(t,e,n){if(n=U({relative:m.$current},n||{}),q(t)&&(i=t,i.indexOf("*")>-1)){if(!function(t){for(var e=t.split("."),r=m.$current.name.split("."),n=0,i=e.length;n<i;n++)"*"===e[n]&&(r[n]="*");return"**"===e[0]&&(r=r.slice(a(r,e[1])),r.unshift("**")),"**"===e[e.length-1]&&(r.splice(a(r,e[e.length-2])+1,Number.MAX_VALUE),r.push("**")),e.length==r.length&&r.join("")===e.join("")}(t))return!1;t=m.$current.name}var i,s=f(t,n.relative);return R(s)?!!R(m.$current.includes[s.name])&&(!e||u(s.params.$$values(e),$,o(e))):r},m.href=function(t,e,n){n=U({lossy:!0,inherit:!0,absolute:!1,relative:m.$current},n||{});var i=f(t,n.relative);if(!R(i))return null;n.inherit&&(e=s($,e||{},m.$current,i));var o=i&&n.lossy?i.navigable:i;return o&&o.url!==r&&null!==o.url?b.href(o.url,c(i.params.$$keys().concat("#"),e||{}),{absolute:n.absolute}):null},m.get=function(t,e){if(0===arguments.length)return p(o(g),(function(t){return g[t].self}));var r=f(t,e||m.$current);return r&&r.self?r.self:null},m}var v,m,g={},y={},$={parent:function(t){if(R(t.parent)&&t.parent)return f(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?f(e[1]):v},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=n(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,r={params:t.params||{}};if(q(e))return"^"==e.charAt(0)?i.compile(e.substring(1),r):(t.parent.navigable||v).url.concat(e,r);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new j.ParamSet;return D(t.params||{},(function(t,r){e[r]||(e[r]=new j.Param(r,null,t,"config"))})),e},params:function(t){var e=l(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?U(t.parent.params.$$new(),e):new j.ParamSet},views:function(t){var e={};return D(R(t.views)?t.views:{"":t},(function(r,n){n.indexOf("@")<0&&(n+="@"+t.parent.name),e[n]=r})),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?U({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};v=h({name:"",url:"^",views:null,abstract:!0}),v.navigable=null,this.decorator=function(t,e){return q(t)&&!R(e)?$[t]:M(e)&&q(t)?($[t]&&!$.$delegates[t]&&($.$delegates[t]=$[t]),$[t]=e,this):this},this.state=function(t,e){return N(t)?e=t:e.name=t,h(e),this},this.$get=d,d.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function b(){function t(t,e){return{load:function(t,r){var n;return r=U({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},r),r.view&&(n=e.fromConfig(r.view,r.params,r.locals)),n}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function w(t,r,n,i){var o=r.has?function(t){return r.has(t)?r.get(t):null}:function(t){try{return r.get(t)}catch(t){return null}},a=o("$animator"),s=o("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(r,o,u){return function(r,o,c){function l(a){var s,l=E(r,c,o,i),y=l&&t.$current&&t.$current.locals[l];if((a||y!==d)&&!r._willBeDestroyed){s=r.$new(),d=t.$current.locals[l],s.$emit("$viewContentLoading",l);var $=u(s,(function(t){g.enter(t,o,(function(){p&&p.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||r.$eval(m))&&n(t)})),function(){function t(){e&&e.remove(),r&&r.$destroy()}var e=f,r=p;r&&(r._willBeDestroyed=!0),h?(g.leave(h,(function(){t(),f=null})),f=h):(t(),f=null),h=null,p=null}()}));h=$,p=s,p.$emit("$viewContentLoaded",l),p.$eval(v)}}var f,h,p,d,v=c.onload||"",m=c.autoscroll,g=function(t,r){function n(t){return 1===K&&H>=4?!!s.enabled(t):1===K&&H>=2?!!s.enabled():!!a}var i={enter:function(t,e,r){e.after(t),r()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return i;if(s)return{enter:function(t,r,o){n(t)?e.version.minor>2?s.enter(t,null,r).then(o):s.enter(t,null,r,o):i.enter(t,r,o)},leave:function(t,r){n(t)?e.version.minor>2?s.leave(t).then(r):s.leave(t,r):i.leave(t,r)}};if(a){var o=a&&a(r,t);return{enter:function(t,e,r){o.enter(t,null,e),r()},leave:function(t,e){o.leave(t),e()}}}return i}(c,r);r.$on("$stateChangeSuccess",(function(){l(!1)})),l(!0)}}};return u}function k(t,e,r,n){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var u=r.$current,c=E(i,s,a,n),l=u&&u.locals[c];if(l){a.data("$uiView",{name:c,state:l.$$state}),a.html(l.$template?l.$template:o);var f=t(a.contents());if(l.$$controller){l.$scope=i,l.$element=a;var h=e(l.$$controller,l);l.$$controllerAs&&(i[l.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}f(i)}}}}}function E(t,e,r,n){var i=n(e.uiView||e.name||"")(t),o=r.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function S(t,e){var r,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t=e+"("+n[1]+")"),r=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+t+"'");return{state:r[1],paramExpr:r[3]||null}}function _(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function I(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function x(t,e,r,n,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=r((function(){e.go(s.state,s.params,s.options)}));o.preventDefault();var c=n.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(u)}}}}function O(t,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){var s=S(o.uiSref,t.current.name),u={state:s.state,href:null,params:null},c=I(i),l=a[1]||a[0];u.options=U(function(t,e){return{relative:_(t)||e.$current,inherit:!0}}(i,t),o.uiSrefOpts?n.$eval(o.uiSrefOpts):{});var f=function(r){r&&(u.params=e.copy(r)),u.href=t.href(s.state,u.params,u.options),l&&l.$$addStateInfo(s.state,u.params),null!==u.href&&o.$set(c.attr,u.href)};s.paramExpr&&(n.$watch(s.paramExpr,(function(t){t!==u.params&&f(t)}),!0),u.params=e.copy(n.$eval(s.paramExpr))),f(),c.clickable&&i.bind("click",x(i,t,r,c,(function(){return u})))}}}function P(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,i,o){function a(e){f.state=e[0],f.params=e[1],f.options=e[2],f.href=t.href(f.state,f.params,f.options),u&&u.$$addStateInfo(f.state,f.params),f.href&&i.$set(s.attr,f.href)}var s=I(n),u=o[1]||o[0],c=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],l="["+c.map((function(t){return t||"null"})).join(", ")+"]",f={state:null,params:null,options:null,href:null};r.$watch(l,a,!0),a(r.$eval(l)),s.clickable&&n.bind("click",x(n,t,e,s,(function(){return f})))}}}function A(t,e,r){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,n,i,o){function a(r,i,o){var a=t.get(r,_(n)),s=function(t,r){if(!q(t))throw new Error("state should be a string");if(N(r))return t+L(r);if(r=e.$eval(r),N(r))return t+L(r);return t}(r,i);p.push({state:a||{name:r},params:i,hash:s}),d[s]=o}function s(){for(var e=0;e<p.length;e++)r=p[e].state,i=p[e].params,t.includes(r.name,i)?u(n,d[p[e].hash]):c(n,d[p[e].hash]),l(p[e].state,p[e].params)?u(n,f):c(n,f);var r,i}function u(t,e){o((function(){t.addClass(e)}))}function c(t,e){t.removeClass(e)}function l(e,r){return t.is(e.name,r)}var f,h,p=[],d={};f=r(i.uiSrefActiveEq||"",!1)(e);try{h=e.$eval(i.uiSrefActive)}catch(t){}h=h||r(i.uiSrefActive||"",!1)(e),N(h)&&D(h,(function(r,n){if(q(r)){var i=S(r,t.current.name);a(i.state,e.$eval(i.paramExpr),n)}})),this.$$addStateInfo=function(t,e){N(h)&&p.length>0||(a(t,e,h),s())},e.$on("$stateChangeSuccess",s),s()}]}}function C(t){var e=function(e,r){return t.is(e,r)};return e.$stateful=!0,e}function T(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}var j,R=e.isDefined,M=e.isFunction,q=e.isString,N=e.isObject,V=e.isArray,D=e.forEach,U=e.extend,F=e.copy,L=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",d),v.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",v),m.prototype.concat=function(t,e){var r={caseInsensitive:j.caseInsensitive(),strict:j.strictMode(),squash:j.defaultSquashPolicy()};return new m(this.sourcePath+t+this.sourceSearch,U(r,e),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(t,e){function r(t){function e(t){return t.split("").reverse().join("")}var r=e(t).split(/-(?!\\)/),n=p(r,e);return p(n,(function(t){return t.replace(/\\-/g,"-")})).reverse()}var n=this.regexp.exec(t);if(!n)return null;e=e||{};var i,o,a,s,u,c=this.parameters(),l=c.length,f=this.segments.length-1,h={};if(f!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<f;i++){for(a=c[i],s=this.params[a],u=n[i+1],o=0;o<s.replace.length;o++)s.replace[o].from===u&&(u=s.replace[o].to);u&&!0===s.array&&(u=r(u)),R(u)&&(u=s.type.decode(u)),h[a]=s.value(u)}for(;i<l;i++){for(a=c[i],h[a]=this.params[a].value(e[a]),s=this.params[a],u=e[a],o=0;o<s.replace.length;o++)s.replace[o].from===u&&(u=s.replace[o].to);R(u)&&(u=s.type.decode(u)),h[a]=s.value(u)}return h},m.prototype.parameters=function(t){return R(t)?this.params[t]||null:this.$$paramNames},m.prototype.validates=function(t){return this.params.$$validates(t)},m.prototype.format=function(t){function e(t,e){return(t?encodeURIComponent(e):e).replace(/-/g,(function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()}))}t=t||{};var n=this.segments,i=this.parameters(),o=this.params;if(!this.validates(t))return null;var a,s=!1,u=n.length-1,c=i.length,l=n[0];for(a=0;a<c;a++){var f=a<u,h=i[a],d=o[h],v=d.value(t[h]),m=d.isOptional&&d.type.equals(d.value(),v),g=!!m&&d.squash,y=d.type.encode(v),$=d.type.urlEncode===r||d.type.urlEncode;if(f){var b=n[a+1],w=a+1===u;if(!1===g)null!=y&&(V(y)?l+=p(y,e.bind(null,$)).join("-"):l+=$?encodeURIComponent(y):y),l+=b;else if(!0===g){var k=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=b.match(k)[1]}else q(g)&&(l+=g+b);w&&!0===d.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==y||m&&!1!==g)continue;if(V(y)||(y=[y]),0===y.length)continue;y=p(y,encodeURIComponent).join("&"+h+"="),l+=(s?"&":"?")+h+"="+y,s=!0}}return l},g.prototype.is=function(t,e){return!0},g.prototype.encode=function(t,e){return t},g.prototype.decode=function(t,e){return t},g.prototype.equals=function(t,e){return t==e},g.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},g.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,e){function n(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return V(t)?t:R(t)?[t]:[]}function o(t){return!t}function a(t,n){return function(a){if(V(a)&&0===a.length)return a;a=i(a);var s=p(a,t);return!0===n?0===h(s,o).length:function(t){switch(t.length){case 0:return r;case 1:return"auto"===e?t[0]:t;default:return t}}(s)}}var s;this.encode=a(n(t,"encode")),this.decode=a(n(t,"decode")),this.is=a(n(t,"is"),!0),this.equals=(s=n(t,"equals"),function(t,e){var r=i(t),n=i(e);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!s(r[o],n[o]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=a(n(t,"$normalize")),this.name=t.name,this.$arrayMode=e}(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",(function t(){function i(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function s(t){return M(t)||V(t)&&M(t[t.length-1])}function u(){for(;b.length;){var t=b.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(y[t.name],l.invoke(t.def))}}function c(t){U(this,t||{})}j=this;var l,f=!1,d=!0,v=!1,y={},$=!0,b=[],w={string:{encode:i,decode:function(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t},is:function(t){return null==t||!R(t)||"string"==typeof t},pattern:/[^/]*/},int:{encode:i,decode:function(t){return parseInt(t,10)},is:function(t){return R(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):r},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):r},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};t.$$getDefaultValue=function(t){if(!s(t.value))return t.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(t.value)},this.caseInsensitive=function(t){return R(t)&&(f=t),f},this.strictMode=function(t){return R(t)&&(d=t),d},this.defaultSquashPolicy=function(t){if(!R(t))return v;if(!0!==t&&!1!==t&&!q(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return v=t,t},this.compile=function(t,e){return new m(t,U({strict:d,caseInsensitive:f},e))},this.isMatcher=function(t){if(!N(t))return!1;var e=!0;return D(m.prototype,(function(r,n){M(r)&&(e=e&&R(t[n])&&M(t[n]))})),e},this.type=function(t,e,r){if(!R(e))return y[t];if(y.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return y[t]=new g(U({name:t},e)),r&&(b.push({name:t,def:r}),$||u()),this},D(w,(function(t,e){y[e]=new g(U({name:e},t))})),y=n(y,{}),this.$get=["$injector",function(t){return l=t,$=!1,u(),D(w,(function(t,e){y[e]||(y[e]=new g(t))})),this}],this.Param=function(t,n,i,u){var c=this;i=function(t){var e=N(t)?o(t):[],r=-1===a(e,"value")&&-1===a(e,"type")&&-1===a(e,"squash")&&-1===a(e,"array");return r&&(t={value:t}),t.$$fn=s(t.value)?t.value:function(){return t.value},t}(i),n=function(r,n,i){if(r.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n||(r.type?e.isString(r.type)?y[r.type]:r.type instanceof g?r.type:new g(r.type):"config"===i?y.any:y.string)}(i,n,u);var f,d,m=(f={array:"search"===u&&"auto"},d=t.match(/\[\]$/)?{array:!0}:{},U(f,d,i).array);n=m?n.$asArray(m,"search"===u):n,"string"!==n.name||m||"path"!==u||i.value!==r||(i.value="");var $=i.value!==r,b=function(t,e){var r=t.squash;if(!e||!1===r)return!1;if(!R(r)||null==r)return v;if(!0===r||q(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(i,$),w=function(t,e,n,i){var o,s,u=[{from:"",to:n||e?r:""},{from:null,to:n||e?r:""}];return o=V(t.replace)?t.replace:[],q(i)&&o.push({from:i,to:r}),s=p(o,(function(t){return t.from})),h(u,(function(t){return-1===a(s,t.from)})).concat(o)}(i,m,$,b);U(this,{id:t,type:n,location:u,array:m,squash:b,replace:w,isOptional:$,value:function(t){return t=function(t){var e,r=p(h(c.replace,(e=t,function(t){return t.from===e})),(function(t){return t.to}));return r.length?r[0]:t}(t),R(t)?c.type.$normalize(t):function(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var t=l.invoke(i.$$fn);if(null!==t&&t!==r&&!c.type.is(t))throw new Error("Default value ("+t+") for parameter '"+c.id+"' is not an instance of Type ("+c.type.name+")");return t}()},dynamic:r,config:i,toString:function(){return"{Param:"+t+" "+n+" squash: '"+b+"' optional: "+$+"}"}})},c.prototype={$$new:function(){return n(this,U(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],r=this,n=o(c.prototype);r;)e.push(r),r=r.$$parent;return e.reverse(),D(e,(function(e){D(o(e),(function(e){-1===a(t,e)&&-1===a(n,e)&&t.push(e)}))})),t},$$values:function(t){var e={},r=this;return D(r.$$keys(),(function(n){e[n]=r[n].value(t&&t[n])})),e},$$equals:function(t,e){var r=!0,n=this;return D(n.$$keys(),(function(i){var o=t&&t[i],a=e&&e[i];n[i].type.equals(o,a)||(r=!1)})),r},$$validates:function(t){var n,i,o,a,s,u=this.$$keys();for(n=0;n<u.length&&(i=this[u[n]],o=t[u[n]],o!==r&&null!==o||!i.isOptional);n++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),e.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:r},this.ParamSet=c})),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",y),$.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",(function(){return{}})).provider("$state",$),b.$inject=[],e.module("ui.router.state").provider("$view",b),e.module("ui.router.state").provider("$uiViewScroll",(function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r((function(){t[0].scrollIntoView()}),0,!1)}}]}));var K=e.version.major,H=e.version.minor;w.$inject=["$state","$injector","$uiViewScroll","$interpolate"],k.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",w),e.module("ui.router.state").directive("uiView",k),O.$inject=["$state","$timeout"],P.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",O).directive("uiSrefActive",A).directive("uiSrefActiveEq",A).directive("uiState",P),C.$inject=["$state"],T.$inject=["$state"],e.module("ui.router.state").filter("isState",C).filter("includedByState",T)}(window,window.angular)},878:function(t,e){!function(t,e){"use strict";function r(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,r=e.width*e.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=r?Number((i/r).toFixed(4)):this.isIntersecting?1:0}function n(t,e){var r,n,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){r(),i=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function i(t,e,r,n){"function"==typeof t.addEventListener?t.addEventListener(e,r,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function o(t,e,r,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(t,e){for(var r=e;r;){if(r==t)return!0;r=u(r)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var c=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){var e=this._observationTargets.some((function(e){return e.element==t}));if(!e){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]}))},n.prototype._parseRootMargin=function(t){var e=t||"0px",r=e.split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return r[1]=r[1]||r[0],r[2]=r[2]||r[0],r[3]=r[3]||r[1],r},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(t,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,s=a(o),u=this._rootContainsTarget(o),c=i.entry,l=e&&u&&this._computeTargetAndRootIntersection(o,n),f=i.entry=new r({time:t.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:n,intersectionRect:l});c?e&&u?this._hasCrossedThreshold(c,f)&&this._queuedEntries.push(f):c&&c.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(r,n){if("none"!=t.getComputedStyle(r).display){for(var i,o,s,c,l,f,h,p,d=a(r),v=d,m=u(r),g=!1;!g;){var y=null,$=1==m.nodeType?t.getComputedStyle(m):{};if("none"==$.display)return;if(m==this.root||m==e?(g=!0,y=n):m!=e.body&&m!=e.documentElement&&"visible"!=$.overflow&&(y=a(m)),y&&(i=y,o=v,s=void 0,c=void 0,l=void 0,f=void 0,h=void 0,p=void 0,s=Math.max(i.top,o.top),c=Math.min(i.bottom,o.bottom),l=Math.max(i.left,o.left),f=Math.min(i.right,o.right),h=f-l,p=c-s,v=h>=0&&p>=0&&{top:s,bottom:c,left:l,right:f,width:h,height:p},!v))break;m=u(m)}return v}},n.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var r=e.documentElement,n=e.body;t={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,r){return"px"==e.unit?e.value:e.value*(r%2?t.width:t.height)/100})),r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},n.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==n)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==r||o==n||o<r!=o<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},n.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},n.prototype._registerInstance=function(){c.indexOf(this)<0&&c.push(this)},n.prototype._unregisterInstance=function(){var t=c.indexOf(this);-1!=t&&c.splice(t,1)},t.IntersectionObserver=n,t.IntersectionObserverEntry=r}}(window,document)}});
//# sourceMappingURL=front-office_libs.js.map